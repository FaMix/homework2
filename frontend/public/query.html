<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Search Engine</title>
</head>
<body>
    <h1>Search Engine for HTML Files</h1>
    <form id="form">
        <label for="author1">Author:</label>
        <input type="text" id="author1" required><br><br>

        <label for="title2">Title:</label>
        <input type="text" id="title2" required><br><br>

        <label for="topic3">Topic:</label>
        <input type="text" id="topic3" required><br><br>

        <button type="button" onclick="sendStrings()">Search</button>
    </form>

    <h2>Results:</h2>
    <pre id="result"></pre>

    <script>
        // Function to send the strings to 'input.txt' through the server
        function sendStrings() {
            const author1 = document.getElementById('author1').value;
            const title2 = document.getElementById('title2').value;
            const topic3 = document.getElementById('topic3').value;

            // Send data to the server at the '/saveStrings' route
            fetch("http://localhost:3000/saveStrings", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ cadena1: author1, cadena2: title2, cadena3: topic3 })
            }).then(() => {
                // Wait a second for the Java program to process the strings and read the result
                setTimeout(readResult, 1000); 
            }).catch(error => console.error("Error in sendStrings:", error));
        }

        // Function to read 'output.txt' and display the results
        function readResult() {
            fetch("http://localhost:3000/readStrings")
                .then(response => response.text())
                .then(text => {
                    document.getElementById('result').textContent = text;
                })
                .catch(error => console.error("Error in readResult:", error));
        }
    </script>
</body>
</html>